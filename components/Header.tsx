import { FC, useState, useEffect } from "react";
import { useRouter } from "next/router";
import Link from "next/link";
import { useTranslation } from "next-i18next";
import styles from "../styles/Header.module.scss";

enum themeTypes {
  LIGHT = "light",
  DARK = "dark",
}

const Header: FC = () => {
  const { pathname, locale } = useRouter();
  const [theme, setTheme] = useState(themeTypes.LIGHT);
  const { t } = useTranslation("header");

  const navData = [
    { id: 0, name: t("home"), path: "/" },
    { id: 1, name: t("about"), path: "/about" },
    { id: 3, name: t("resume"), path: "/resume" },
    { id: 4, name: t("skills"), path: "/skills" },
    { id: 5, name: t("projects"), path: "/projects" },
    { id: 6, name: t("contact"), path: "/contacts" },
  ];

  const themeChangeHandler = () => {
    if (document.documentElement.classList.contains("light")) {
      document.documentElement.classList.replace("light", "dark");
      setTheme(themeTypes.DARK);
    } else {
      document.documentElement.classList.replace("dark", "light");
      setTheme(themeTypes.LIGHT);
    }
  };

  useEffect(() => {
    if (document.documentElement.classList.length === 0) {
      if (window?.matchMedia("(prefers-color-scheme: dark)").matches) {
        document.documentElement.classList.add("dark");
        setTheme(themeTypes.DARK);
      } else {
        document.documentElement.classList.add("light");
      }
    } else {
      document.documentElement.classList.contains("light") ? setTheme(themeTypes.LIGHT) : setTheme(themeTypes.DARK);
    }
  }, []);

  return (
    <header className={styles.header}>
      <div>
        <Link href="/">
          <h2 className="logo">LOGO</h2>
        </Link>
      </div>
      <nav>
        {navData.map((item) => (
          <Link key={item.id} href={item.path}>
            <a className={item.path === pathname ? "active" : ""}>
              {item.name}
            </a>
          </Link>
        ))}
        <button className={styles.themeSwithcer} onClick={themeChangeHandler}>
          {theme === themeTypes.DARK ? <svg
            width="40"
            height="40"
            viewBox="0 0 40 40"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M17.7778 2.22218C17.7778 2.22218 17.7778 -4.00543e-05 20.0001 -4.00543e-05C22.2223 -4.00543e-05 22.2223 2.22218 22.2223 2.22218V4.4444C22.2223 4.4444 22.2223 6.66663 20.0001 6.66663C17.7778 6.66663 17.7778 4.4444 17.7778 4.4444V2.22218Z"
              fill="#FFF50D"
            />
            <path
              d="M37.7775 17.7777C37.7775 17.7777 39.9997 17.7777 39.9997 19.9999C39.9997 22.2222 37.7775 22.2222 37.7775 22.2222H35.5552C35.5552 22.2222 33.333 22.2222 33.333 19.9999C33.333 17.7777 35.5552 17.7777 35.5552 17.7777H37.7775Z"
              fill="#FFF50D"
            />
            <path
              d="M4.44444 17.7777C4.44444 17.7777 6.66667 17.7777 6.66667 19.9999C6.66667 22.2222 4.44444 22.2222 4.44444 22.2222H2.22222C2.22222 22.2222 0 22.2222 0 19.9999C0 17.7777 2.22222 17.7777 2.22222 17.7777H4.44444Z"
              fill="#FFF50D"
            />
            <path
              d="M10.1344 8.10445C10.1344 8.10445 11.7055 9.67556 10.1344 11.2467C8.56329 12.8178 6.99217 11.2467 6.99217 11.2467L5.41995 9.67556C5.41995 9.67556 3.84884 8.10445 5.41995 6.53223C6.99217 4.96112 8.56328 6.53223 8.56328 6.53223L10.1344 8.10445Z"
              fill="#FFF50D"
            />
            <path
              d="M33.4678 31.4366C33.4678 31.4366 35.0389 33.0077 33.4678 34.5788C31.8966 36.1499 30.3255 34.5788 30.3255 34.5788L28.7544 33.0077C28.7544 33.0077 27.1833 31.4366 28.7544 29.8655C30.3255 28.2944 31.8966 29.8655 31.8966 29.8655L33.4678 31.4366Z"
              fill="#FFF50D"
            />
            <path
              d="M33.009 11.2456C33.009 11.2456 31.4378 12.8167 29.8667 11.2456C28.2956 9.67446 29.8667 8.10335 29.8667 8.10335L31.4378 6.53224C31.4378 6.53224 33.009 4.96113 34.5801 6.53224C36.1512 8.10335 34.5801 9.67446 34.5801 9.67446L33.009 11.2456Z"
              fill="#FFF50D"
            />
            <path
              d="M9.67546 34.5788C9.67546 34.5788 8.10434 36.1499 6.53323 34.5788C4.96212 33.0077 6.53323 31.4366 6.53323 31.4366L8.10434 29.8655C8.10434 29.8655 9.67546 28.2944 11.2466 29.8655C12.8177 31.4366 11.2466 33.0077 11.2466 33.0077L9.67546 34.5788Z"
              fill="#FFF50D"
            />
            <path
              d="M17.7778 35.5556C17.7778 35.5556 17.7778 33.3333 20.0001 33.3333C22.2223 33.3333 22.2223 35.5556 22.2223 35.5556V37.7778C22.2223 37.7778 22.2223 40 20.0001 40C17.7778 40 17.7778 37.7778 17.7778 37.7778V35.5556Z"
              fill="#FFF50D"
            />
            <path
              d="M31.1109 20C31.1109 13.8633 26.1353 8.88886 19.9998 8.88886C13.8631 8.88886 8.88867 13.8633 8.88867 20C8.88867 26.1355 13.8631 31.1111 19.9998 31.1111C26.1353 31.1111 31.1109 26.1355 31.1109 20Z"
              fill="#FFF50D"
            />
          </svg> :           <svg
            width="40"
            height="40"
            viewBox="0 0 40 40"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M37.7 4.75001L37.9062 5.93126C37.9285 6.04843 37.9168 6.16954 37.8725 6.28029C37.8282 6.39104 37.7532 6.48679 37.6562 6.55626C37.5651 6.61791 37.4593 6.65442 37.3496 6.6621C37.2399 6.66978 37.13 6.64836 37.0312 6.60001L35.9687 6.04376L34.9062 6.60001C34.8185 6.64949 34.7194 6.67534 34.6187 6.67501C34.4863 6.67548 34.3572 6.6339 34.25 6.55626C34.153 6.48679 34.0779 6.39104 34.0336 6.28029C33.9893 6.16954 33.9777 6.04843 34 5.93126L34.175 4.75001L33.3125 3.91251C33.2281 3.83097 33.1684 3.72734 33.1401 3.61345C33.1119 3.49957 33.1163 3.38004 33.1528 3.26853C33.1893 3.15703 33.2565 3.05805 33.3466 2.98293C33.4367 2.90781 33.5462 2.85958 33.6625 2.84376L34.8437 2.67501L35.375 1.60001C35.4261 1.49434 35.5061 1.40522 35.6055 1.34286C35.705 1.28051 35.8201 1.24744 35.9375 1.24744C36.0549 1.24744 36.1699 1.28051 36.2694 1.34286C36.3689 1.40522 36.4488 1.49434 36.5 1.60001L37.0312 2.67501L38.2125 2.84376C38.3287 2.85958 38.4382 2.90781 38.5283 2.98293C38.6185 3.05805 38.6856 3.15703 38.7221 3.26853C38.7587 3.38004 38.763 3.49957 38.7348 3.61345C38.7066 3.72734 38.6468 3.83097 38.5625 3.91251L37.7 4.75001ZM21.875 7.81251C21.9117 7.70344 21.9778 7.60663 22.066 7.53274C22.1542 7.45885 22.2612 7.41076 22.375 7.39376L24.2062 7.11251L25.025 5.36251C25.0747 5.25339 25.1547 5.16088 25.2556 5.096C25.3564 5.03113 25.4738 4.99664 25.5937 4.99664C25.7136 4.99664 25.831 5.03113 25.9319 5.096C26.0327 5.16088 26.1128 5.25339 26.1625 5.36251L26.9812 7.11251L28.8125 7.39376C28.9263 7.41076 29.0332 7.45885 29.1214 7.53274C29.2096 7.60663 29.2758 7.70344 29.3125 7.81251C29.3472 7.91995 29.3522 8.0348 29.3269 8.14485C29.3016 8.2549 29.2469 8.35603 29.1687 8.43751L27.825 9.81251L28.1437 11.7625C28.1576 11.8764 28.1399 11.992 28.0925 12.0965C28.0451 12.2011 27.9698 12.2905 27.8749 12.3551C27.78 12.4196 27.6691 12.4568 27.5545 12.4625C27.4398 12.4683 27.3258 12.4423 27.225 12.3875L25.625 11.5188L23.9937 12.425C23.9016 12.4747 23.7984 12.5005 23.6937 12.5C23.5641 12.501 23.4375 12.4617 23.3312 12.3875C23.2331 12.3188 23.1568 12.2234 23.1114 12.1126C23.066 12.0018 23.0533 11.8803 23.075 11.7625L23.3937 9.81251L22.05 8.43751C21.9664 8.35934 21.9058 8.25971 21.875 8.1495C21.8441 8.03929 21.8441 7.92272 21.875 7.81251Z"
              fill="black"
            />
            <path d="M1.25 25.625H3.75V26.875H1.25V25.625Z" fill="black" />
            <path
              d="M30.625 21.2501H21.5813L27.8313 25.0938C27.9503 25.1621 28.0435 25.2676 28.0966 25.3941C28.1497 25.5206 28.1597 25.6611 28.125 25.7938C28.0872 25.929 28.005 26.0475 27.8916 26.1303C27.7782 26.2131 27.6403 26.2552 27.5 26.2501H21.875V25.0001H25.2937L19.0438 21.1563C18.9247 21.088 18.8315 20.9825 18.7784 20.856C18.7253 20.7295 18.7153 20.5891 18.75 20.4563C18.7878 20.3211 18.87 20.2026 18.9834 20.1198C19.0968 20.0371 19.2347 19.9949 19.375 20.0001H30.625V21.2501Z"
              fill="black"
            />
            <path d="M31.875 20H33.125V21.25H31.875V20Z" fill="black" />
            <path d="M3.7499 35H7.99365V36.25H3.7499V35Z" fill="black" />
            <path
              d="M10.325 5.43121C11.728 4.23892 13.3044 3.26736 15 2.54996C15.1232 2.49609 15.2604 2.48335 15.3913 2.51361C15.5222 2.54388 15.6399 2.61554 15.7269 2.71797C15.8139 2.8204 15.8656 2.94814 15.8742 3.08225C15.8829 3.21635 15.8481 3.34968 15.775 3.46246C13.7995 6.5683 12.8653 10.223 13.1081 13.8958C13.3508 17.5687 14.7579 21.0686 17.125 23.8875C19.5555 26.8782 22.9365 28.9469 26.7058 29.7497C30.4751 30.5524 34.4056 30.0408 37.8438 28.3C37.9624 28.2392 38.0973 28.2179 38.2289 28.2393C38.3605 28.2607 38.4817 28.3235 38.575 28.4187C38.6686 28.5147 38.7288 28.6382 38.7468 28.771C38.7648 28.9037 38.7396 29.0388 38.675 29.1562C37.5784 31.1569 36.1204 32.9369 34.375 34.4062C31.0833 37.2274 26.8916 38.7791 22.5563 38.7812C22.0188 38.7812 21.475 38.7812 20.925 38.7125C18.4544 38.49 16.053 37.7767 13.8615 36.6145C11.6701 35.4522 9.73255 33.8643 8.16253 31.9437C4.97358 28.124 3.41319 23.2043 3.81771 18.2449C4.22222 13.2855 6.55925 8.68361 10.325 5.43121Z"
              fill="black"
            />
          </svg>}

        </button>
        <Link href={pathname} locale={locale === "en" ? "ru" : "en"}>
          <button className={styles.localeSwitcher}>
            {locale === "en" ? (
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 9 6"
                width="42"
                height="30"
              >
                <rect fill="#fff" width="9" height="3" />
                <rect fill="#d52b1e" y="3" width="9" height="3" />
                <rect fill="#0039a6" y="2" width="9" height="2" />
              </svg>
            ) : (
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 640 480"
                width="42"
                height="30"
              >
                <path
                  fill="#bd3d44"
                  d="M0 0h972.8v39.4H0zm0 78.8h972.8v39.4H0zm0 78.7h972.8V197H0zm0 78.8h972.8v39.4H0zm0 78.8h972.8v39.4H0zm0 78.7h972.8v39.4H0zm0 78.8h972.8V512H0z"
                  transform="scale(.9375)"
                />
                <path
                  fill="#fff"
                  d="M0 39.4h972.8v39.4H0zm0 78.8h972.8v39.3H0zm0 78.7h972.8v39.4H0zm0 78.8h972.8v39.4H0zm0 78.8h972.8v39.4H0zm0 78.7h972.8v39.4H0z"
                  transform="scale(.9375)"
                />
                <path
                  fill="#192f5d"
                  d="M0 0h389.1v275.7H0z"
                  transform="scale(.9375)"
                />
                <path
                  fill="#fff"
                  d="M32.4 11.8L36 22.7h11.4l-9.2 6.7 3.5 11-9.3-6.8-9.2 6.7 3.5-10.9-9.3-6.7H29zm64.9 0l3.5 10.9h11.5l-9.3 6.7 3.5 11-9.2-6.8-9.3 6.7 3.5-10.9-9.2-6.7h11.4zm64.8 0l3.6 10.9H177l-9.2 6.7 3.5 11-9.3-6.8-9.2 6.7 3.5-10.9-9.3-6.7h11.5zm64.9 0l3.5 10.9H242l-9.3 6.7 3.6 11-9.3-6.8-9.3 6.7 3.6-10.9-9.3-6.7h11.4zm64.8 0l3.6 10.9h11.4l-9.2 6.7 3.5 11-9.3-6.8-9.2 6.7 3.5-10.9-9.2-6.7h11.4zm64.9 0l3.5 10.9h11.5l-9.3 6.7 3.6 11-9.3-6.8-9.3 6.7 3.6-10.9-9.3-6.7h11.5zM64.9 39.4l3.5 10.9h11.5L70.6 57 74 67.9l-9-6.7-9.3 6.7L59 57l-9-6.7h11.4zm64.8 0l3.6 10.9h11.4l-9.3 6.7 3.6 10.9-9.3-6.7-9.3 6.7L124 57l-9.3-6.7h11.5zm64.9 0l3.5 10.9h11.5l-9.3 6.7 3.5 10.9-9.2-6.7-9.3 6.7 3.5-10.9-9.2-6.7H191zm64.8 0l3.6 10.9h11.4l-9.3 6.7 3.6 10.9-9.3-6.7-9.2 6.7 3.5-10.9-9.3-6.7H256zm64.9 0l3.5 10.9h11.5L330 57l3.5 10.9-9.2-6.7-9.3 6.7 3.5-10.9-9.2-6.7h11.4zM32.4 66.9L36 78h11.4l-9.2 6.7 3.5 10.9-9.3-6.8-9.2 6.8 3.5-11-9.3-6.7H29zm64.9 0l3.5 11h11.5l-9.3 6.7 3.5 10.9-9.2-6.8-9.3 6.8 3.5-11-9.2-6.7h11.4zm64.8 0l3.6 11H177l-9.2 6.7 3.5 10.9-9.3-6.8-9.2 6.8 3.5-11-9.3-6.7h11.5zm64.9 0l3.5 11H242l-9.3 6.7 3.6 10.9-9.3-6.8-9.3 6.8 3.6-11-9.3-6.7h11.4zm64.8 0l3.6 11h11.4l-9.2 6.7 3.5 10.9-9.3-6.8-9.2 6.8 3.5-11-9.2-6.7h11.4zm64.9 0l3.5 11h11.5l-9.3 6.7 3.6 10.9-9.3-6.8-9.3 6.8 3.6-11-9.3-6.7h11.5zM64.9 94.5l3.5 10.9h11.5l-9.3 6.7 3.5 11-9.2-6.8-9.3 6.7 3.5-10.9-9.2-6.7h11.4zm64.8 0l3.6 10.9h11.4l-9.3 6.7 3.6 11-9.3-6.8-9.3 6.7 3.6-10.9-9.3-6.7h11.5zm64.9 0l3.5 10.9h11.5l-9.3 6.7 3.5 11-9.2-6.8-9.3 6.7 3.5-10.9-9.2-6.7H191zm64.8 0l3.6 10.9h11.4l-9.2 6.7 3.5 11-9.3-6.8-9.2 6.7 3.5-10.9-9.3-6.7H256zm64.9 0l3.5 10.9h11.5l-9.3 6.7 3.5 11-9.2-6.8-9.3 6.7 3.5-10.9-9.2-6.7h11.4zM32.4 122.1L36 133h11.4l-9.2 6.7 3.5 11-9.3-6.8-9.2 6.7 3.5-10.9-9.3-6.7H29zm64.9 0l3.5 10.9h11.5l-9.3 6.7 3.5 10.9-9.2-6.7-9.3 6.7 3.5-10.9-9.2-6.7h11.4zm64.8 0l3.6 10.9H177l-9.2 6.7 3.5 11-9.3-6.8-9.2 6.7 3.5-10.9-9.3-6.7h11.5zm64.9 0l3.5 10.9H242l-9.3 6.7 3.6 11-9.3-6.8-9.3 6.7 3.6-10.9-9.3-6.7h11.4zm64.8 0l3.6 10.9h11.4l-9.2 6.7 3.5 11-9.3-6.8-9.2 6.7 3.5-10.9-9.2-6.7h11.4zm64.9 0l3.5 10.9h11.5l-9.3 6.7 3.6 11-9.3-6.8-9.3 6.7 3.6-10.9-9.3-6.7h11.5zM64.9 149.7l3.5 10.9h11.5l-9.3 6.7 3.5 10.9-9.2-6.8-9.3 6.8 3.5-11-9.2-6.7h11.4zm64.8 0l3.6 10.9h11.4l-9.3 6.7 3.6 10.9-9.3-6.8-9.3 6.8 3.6-11-9.3-6.7h11.5zm64.9 0l3.5 10.9h11.5l-9.3 6.7 3.5 10.9-9.2-6.8-9.3 6.8 3.5-11-9.2-6.7H191zm64.8 0l3.6 10.9h11.4l-9.2 6.7 3.5 10.9-9.3-6.8-9.2 6.8 3.5-11-9.3-6.7H256zm64.9 0l3.5 10.9h11.5l-9.3 6.7 3.5 10.9-9.2-6.8-9.3 6.8 3.5-11-9.2-6.7h11.4zM32.4 177.2l3.6 11h11.4l-9.2 6.7 3.5 10.8-9.3-6.7-9.2 6.7 3.5-10.9-9.3-6.7H29zm64.9 0l3.5 11h11.5l-9.3 6.7 3.6 10.8-9.3-6.7-9.3 6.7 3.6-10.9-9.3-6.7h11.4zm64.8 0l3.6 11H177l-9.2 6.7 3.5 10.8-9.3-6.7-9.2 6.7 3.5-10.9-9.3-6.7h11.5zm64.9 0l3.5 11H242l-9.3 6.7 3.6 10.8-9.3-6.7-9.3 6.7 3.6-10.9-9.3-6.7h11.4zm64.8 0l3.6 11h11.4l-9.2 6.7 3.5 10.8-9.3-6.7-9.2 6.7 3.5-10.9-9.2-6.7h11.4zm64.9 0l3.5 11h11.5l-9.3 6.7 3.6 10.8-9.3-6.7-9.3 6.7 3.6-10.9-9.3-6.7h11.5zM64.9 204.8l3.5 10.9h11.5l-9.3 6.7 3.5 11-9.2-6.8-9.3 6.7 3.5-10.9-9.2-6.7h11.4zm64.8 0l3.6 10.9h11.4l-9.3 6.7 3.6 11-9.3-6.8-9.3 6.7 3.6-10.9-9.3-6.7h11.5zm64.9 0l3.5 10.9h11.5l-9.3 6.7 3.5 11-9.2-6.8-9.3 6.7 3.5-10.9-9.2-6.7H191zm64.8 0l3.6 10.9h11.4l-9.2 6.7 3.5 11-9.3-6.8-9.2 6.7 3.5-10.9-9.3-6.7H256zm64.9 0l3.5 10.9h11.5l-9.3 6.7 3.5 11-9.2-6.8-9.3 6.7 3.5-10.9-9.2-6.7h11.4zM32.4 232.4l3.6 10.9h11.4l-9.2 6.7 3.5 10.9-9.3-6.7-9.2 6.7 3.5-11-9.3-6.7H29zm64.9 0l3.5 10.9h11.5L103 250l3.6 10.9-9.3-6.7-9.3 6.7 3.6-11-9.3-6.7h11.4zm64.8 0l3.6 10.9H177l-9 6.7 3.5 10.9-9.3-6.7-9.2 6.7 3.5-11-9.3-6.7h11.5zm64.9 0l3.5 10.9H242l-9.3 6.7 3.6 10.9-9.3-6.7-9.3 6.7 3.6-11-9.3-6.7h11.4zm64.8 0l3.6 10.9h11.4l-9.2 6.7 3.5 10.9-9.3-6.7-9.2 6.7 3.5-11-9.2-6.7h11.4zm64.9 0l3.5 10.9h11.5l-9.3 6.7 3.6 10.9-9.3-6.7-9.3 6.7 3.6-11-9.3-6.7h11.5z"
                  transform="scale(.9375)"
                />
              </svg>
            )}
          </button>
        </Link>
        <span>{t('switcher')}</span>
      </nav>
    </header>
  );
};

export default Header;
